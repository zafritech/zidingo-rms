<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      layout:decorator="layouts/main">

    <head>
        <title>Zidingo RMS Home</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="UTF-8" />
    </head>

    <body>

        <div layout:fragment="content">

            <div th:if="${user != null}" class="col-lg-12">
                <h1 class="page-header" th:text="${user.firstName} + '\'s Dashboard'">User's Dashboard</h1>
            </div>
            
            <div class="col-lg-12">
                
                <!-- Tasks -->
                <div th:if="${tasksCount != null}" class="col-lg-4 col-md-6">
                    <div class="card-body pv">
                        <div class="panel panel-green">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-tasks fa-5x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge" th:text="${tasksCount}">0</div>
                                        <div>New Tasks</div>
                                    </div>
                                </div>
                            </div>
                            <a href="/tasks">
                                <div class="panel-footer">
                                    <span class="pull-left">View tasks</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!--Messages-->
                <div th:if="${messagesCount != null}" class="col-lg-4 col-md-6">
                    <div class="card-body pv">
                        <div class="panel panel-yellow">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-envelope fa-5x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge" th:text="${messagesCount}">0</div>
                                        <div>New Messages</div>
                                    </div>
                                </div>
                            </div>
                            <a href="/messages">
                                <div class="panel-footer">
                                    <span class="pull-left">View messages</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!--Notifications/Alerts-->
                <div th:if="${notificationsCount != null}" class="col-lg-4 col-md-6">
                    <div class="card-body pv">
                        <div class="panel panel-red">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-bell fa-5x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge" th:text="${notificationsCount}">0</div>
                                        <div>New Notifications</div>
                                    </div>
                                </div>
                            </div>
                            <a href="/notifications">
                                <div class="panel-footer">
                                    <span class="pull-left">View notifications</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!--Disciplines/Departments-->
                <div th:if="${disciplines != null}" th:each="discipline : ${disciplines}" class="col-lg-4 col-md-6">
                    <div class="card-body pv">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-briefcase fa-5x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge" th:text="${discipline.itemCount}">0</div>
                                        <div th:text="${discipline.categoryName}">Department</div>
                                    </div>
                                </div>
                            </div>
                            <a th:href="@{'/items/' + ${discipline.projectId} + '/' + ${discipline.uuId}}">
                                <div class="panel-footer">
                                    <span class="pull-left">View requirements</span>
                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                    <div class="clearfix"></div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </body>

    <th:block layout:fragment="scripts"></th:block>

</html>